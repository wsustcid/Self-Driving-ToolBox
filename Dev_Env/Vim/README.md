# Vim

## 1. 常用命令
### 1.1. vim的模式
  - 正常模式（按Esc或Ctrl+[进入） 左下角显示文件名或为空
  - 插入模式（按i键进入） 左下角显示--INSERT--
  - 可视模式（不知道如何进入） 左下角显示--VISUAL--

### 1.2 文件命令
在命令行窗口中输入以下命令即可
```bash
vim #直接启动vim
vim filename # 打开vim并创建名为filename的文件
vim file1 file2 file3 ... # 同时打开多个文件

:open file # 在vim窗口中打开一个新文件
:split file # 在新窗口中打开文件
:bn # 切换到下一个文件
:bp # 切换到上一个文件
:args # 查看当前打开的文件列表，当前正在编辑的文件会用[]括起来
:e ftp://192.168.10.76/abc.txt # 打开远程文件，比如ftp或者share folder
:e \\qadrive\test\1.txt 
```

### 1.3 插入命令
```bash
i #在当前位置生前插入
I #在当前行首插入
a #在当前位置后插入
A #在当前行尾插入
o #在当前行之后插入一行
O #在当前行之前插入一行
```

### 1.4 选中命令
选定文本块。使用v进入可视模式，移动光标键选定内容。 

### 1.5 复制命令
复制的命令是y，即yank（提起） ，常用的命令如下： 
```bash
y # 在使用v模式选定了某一块的时候，复制选定块到缓冲区用
yy # 复制整行（nyy或者yny ，复制n行，n为数字）； 
y^ # 复制当前到行头的内容； 
y$ # 复制当前到行尾的内容； 
yw # 复制一个word （nyw或者ynw，复制n个word，n为数字）； 
yG # 复制至档尾（nyG或者ynG，复制到第n行，例如1yG或者y1G，复制到档尾） 
```
​   
### 1.6 剪切命令 
剪切的命令是d，即delete，d与y命令基本类似，所以两个命令用法一样，包括含有数字的用法.  
```bash
d  #    剪切选定块到缓冲区； 
dd #    剪切整行 
d^ #    剪切至行首 
d$ #    剪切至行尾 
dw #    剪切一个word 
dG #    剪切至档尾
```  

### 1.7 粘贴命令
粘贴的命令式p，即put（放下） 
```bash
    p      小写p代表贴至游标后（下），因为游标是在具体字符的位置上，所以实际是在该字符的后面 
    P      大写P代表贴至游标前（上） 
    整行的复制粘贴在游标的上（下）一行，非整行的复制则是粘贴在游标的前（后）
```

注:
 - 在正则表达式中，^表示匹配字符串的开始位置，$表示匹配字符串的结束位置。 
 - 命令前面加数字表示重复的次数，加字母表示使用的缓冲区名称。使用英文句号"."可以重复上一个命令。 
 - 在复制粘贴时，另一组常用的命令是u（撤销操作），U（撤销某一行最近所有修改），Ctrl+R（重做），这些功能主要是vim中的，vi中略有差别


### 1.8 查找命令
```bash
/text #　查找text，按n健查找下一个，按N健查找前一个。
?text #　查找text，反向查找，按n健查找下一个，按N健查找前一个。
# vim中有一些特殊字符在查找时需要转义　　.*[]^%/?~$
:set ignorecase #　　忽略大小写的查找
:set noignorecase　#　不忽略大小写的查找
# 查找很长的词，如果一个词很长，键入麻烦，可以将光标移动到该词上，按*或#键即可以该单词进行搜索，相当于/搜索。而#命令相当于?搜索。
:set hlsearch　#　高亮搜索结果，所有结果都高亮显示，而不是只显示一个匹配。
:set nohlsearch　#　关闭高亮搜索显示
:nohlsearch　#　关闭当前的高亮显示，如果再次搜索或者按下n或N键，则会再次高亮。
:set incsearch　#　逐步搜索模式，对当前键入的字符进行搜索而不必等待键入完成。
:set wrapscan　#　重新搜索，在搜索到文件头或尾时，返回继续搜索，默认开启。
```
### 1.9 替换命令
```bash
ra # 将当前字符替换为a，当期字符即光标所在字符。
s/old/new/ # 用old替换new，替换当前行的第一个匹配
s/old/new/g # 用old替换new，替换当前行的所有匹配
%s/old/new/ # 用old替换new，替换所有行的第一个匹配
%s/old/new/g # 用old替换new，替换整个文件的所有匹配
:10,20 s/^/ /g # 在第10行知第20行每行前面加四个空格，用于缩进。
ddp  # 交换光标所在行和其下紧邻的一行。
```

### 退出命令
```bash
:wq # 保存并退出
:q! # 强制退出并忽略所有更改
:e! # 放弃所有修改，并打开原来文件。
```
