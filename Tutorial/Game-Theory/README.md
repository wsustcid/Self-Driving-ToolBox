<!--
 * @Author: Shuai Wang
 * @Github: https://github.com/wsustcid
 * @Version: 1.0.0
 * @Date: 2021-11-18 15:08:40
 * @LastEditTime: 2021-12-13 19:10:36
-->
- [博弈论简明教程](#博弈论简明教程)
  - [1. 快速入门](#1-快速入门)
    - [1.1 博弈的基本假设](#11-博弈的基本假设)
    - [1.2 博弈的基本要素](#12-博弈的基本要素)
    - [1.3 博弈的表述模型](#13-博弈的表述模型)
    - [1.4 博弈的基本类型](#14-博弈的基本类型)
    - [1.5 博弈的基本定理](#15-博弈的基本定理)
  - [2. 博弈论进阶](#2-博弈论进阶)
  - [3. 博弈论实战](#3-博弈论实战)


# 博弈论简明教程
## 1. 快速入门
The study of mathematical models of conflict and cooperation between intelligent rational decision-makers.

### 1.1 博弈的基本假设
博弈论的基本假设是考虑*个人理性*，即它必须并且能够充分考虑到人们之间行为的*相互作用*及其可能的影响，进而能够做出合乎理性的选择
  - 所谓合乎理性，是指博弈参与者为最大化自己的目标函数，选择使其收益最大化的策略
  - 这个假设是符合人们的心理规律的，因为在各种情形中，各行为主体都有自己的利益或目标函数，都面临着策略选择问题，同时在主观或客观上也要求它选择最佳策略。

从这个假设出发，我们可以把博弈论描述为：一种分析当事人在一定情形中策略选择的方法
  - 博弈论研究的是理性行为，它认为参与博弈的每个人都会根据其他参与人的策略做出自己的最优反应，以最大化自身的利益
  - 注意，这里的理性不仅指每个参与人都是理性的，还要求彼此也都知道对方是理性的
  - 参与博弈的每个人的收益，不仅取决于自己的决策，还取决于其他参与博弈的人的决策

### 1.2 博弈的基本要素
**参与者(Player)**
  - 指博弈的参与人，即产生决策的主体
  - 根据参与者的个数，分为二人博弈和多人博弈

**策略(Strategy)和策略集合(Strategy Set)**
  - 决策的每个步骤叫做决策选项(Move)或行动，所有决策选项的总和叫策略
  - 所有可能的策略，就构成了策略集合 （如石头剪刀布，策略集合包含3个策略）
  - 策略集合分为有限策略集合和无限策略集合

**纯策略(Pure Strategy)和混合策略(Mixed Strategy)** 
  - 在实际博弈中，如果你总是固定选择策略集合中的某一个策略，这种情况称之为纯策略
  - 如果在博弈中，总是以一定的概率选择策略集合中的某几个策略，这种策略称之为混合策略
  - 进一步的，如果某个混合策略包含了策略集合中的每一个元素，称之为完全混合策略(Totally Mixed Strategy)

**支配策略(Dominant Strategy)**  
支配策略又称为优势策略，是指某个策略在任何情况下都不会比其他策略差，即该策略能够支配其他策略
  - 如果该策略严格的在任何情况下都比其他策略更好，则称为强支配策略(Strictly Dominant Strategy)
  - 如果某些情况下比其他策略好，某些情况下和其他策略一样好，则是若支配策略(Weakly Dominant Strategy)
  - 除了支配策略，还有制胜策略(Winning Strategy)，通常只用于零和博弈，指的是只要你采用这个策略，无论对方如何应对，你总是赢
  - 制胜策略肯定是支配策略，但支配策略不一定是制胜策略

发现支配策略的一个简单做法是：逐步删除被支配的策略（Iterated Elimnnation of Strictly Dominated Strategies），剩下的便是该博弈的纳什均衡点
  - 但一般来讲，只有及其简单的博弈才有支配策略，只要博弈稍微复杂一些，支配策略可能就不存在了
  - 因为当某个博弈存在支配策略时，整个博弈的结果就几乎已经确定了，整个过程显得索然无味

<div align=center><img src=./figs/dominate_strategy.png /></div>

**收益(payoff)与收益函数(payoff function)**  
指每个参与者选择策略后所获得的收益，每个博弈的参与者都有自己的收益函数，且收益函数不仅取决于自己的策略，也取决于其他参与者的策略选择
  - 这是博弈的参与者真正所关心的东西，是其在博弈时进行判断和决策的依据
  - 而博弈胜负的评判结果也主要是通过策略选择后收益的得失进行衡量

### 1.3 博弈的表述模型
博弈的表述模型用来直观的描述整个博弈过程，并帮助看清各方得失利弊
**标准式(Normal-Form)**    
标准式适合表示二人或三人博弈，通常使用收益矩阵(Payoff Matrix)这种列表形式进行表述
  - 收益矩阵用来描述双人同时博弈(bi-matrix)时，通常将己方策略写在表格左边，对方策略写在表格上方

**扩展式(Extensive-Form)**  
扩展式通常采用决策树的形式进行表述
  - 决策树既可以用来描述同时博弈，也可以用来描述顺序博弈
  - 任何一个博弈，如果可以表示成标准式，就可以表示成扩展式，反之亦成立。
<div align=center><img src=./figs/decision_matrix_tree.png width=500></div>

**特征函数式**  
一般用于合作博弈的一般表示中


### 1.4 博弈的基本类型
**合作博弈与非合作博弈**  
主要根绝博弈的参与者是否达成有约束力的协议进行划分：
  - 合作博弈：存在某种外部约束力，使得背叛的行为会受到这种外部约束力的惩罚（如商业合同）
  - 非合作博弈：没有上述这种外部约束力，对背叛的惩罚只能依靠博弈过程的其他参与者

**动态博弈与静态博弈**  
主要根据博弈参与者的决策是否有时间上的先后性进行划分：
  - 静态博弈：又称为同时博弈(Simultaneous Game)，是指博弈的任何一个参与者在选择自己的行为之前，并不知道其他参与者的行为信息（如石头剪刀布的游戏）
  - 动态博弈：又称为顺序博弈(Sequential Game)，是指参与者的动作有时间上的先后，并且后一个执行动作的博弈者可以看到其他博弈者之前的动作，然后根据别人的动作，思考自己的行为（如棋牌类游戏）

**零和博弈与非零和博弈**
根据博弈结束后，参与各方的利益总和是否为常量分为零和博弈(棋类游戏)和非零和博弈(利益总和为变量，如囚徒困境)
  - 在博弈中，参与者之间的利益可能严格对立，一人所得永远等于一人所失，这样的博弈称为零和博弈(Zero-Sum Game)
   - 更常见的情况是参与者之间既有共同利益，也有利益冲突，从而出现可能导致共同受益或共同受害的策略组合(Strategy Profile)。对于这类博弈，在某些情况下可能会让参与各方的利益总和变大，从而使各方存在合作的可能性。

**重复博弈和非重复博弈**  
根据博弈的次数进行划分：
  - 非重复博弈(Non-Repeated Game) 有时也称作单次博弈；重复博弈(Repeated Game)有时也称作多次博弈
  - 重复博弈可以进一步根据博弈中某些参数，如人数、时间等，是否有限，分为有限重复博弈与无限重复博弈，前者的重复次数是确定的，后者的重复次数是不确定的

**完全信息博弈与非完全信息博弈**
根据博弈中的参与者对彼此的了解程度进行划分：
  - 在顺序博弈中，如果每个参与者在做每个决策时，都能知道已经发生的每个事件的信息，称为Perpect Information，如大部分的棋类游戏，反之，称为Imperfect Information，比如大部分的扑克游戏
  - 对于博弈者而言，如果每个博弈者的特征，如博弈目标、效用函数等，都是公开的，则称为Complete Information,反之是Incomplete Information。几乎所有的棋牌类游戏都是Complete Information，因为双方的目标都是公开且固定的，而拍卖则是Incomplete Information,因为有些是真实买家，有些则是抬价者，其各自的底线也不会公开

对于Incomplete Information的博弈，由于每个博弈者无法完全掌握其他博弈者的特种功能，这时就需要引入贝叶斯定理进行概率分析，从而猜测其他对手的特征。所以这类博弈也称作贝叶斯博弈。对于贝叶斯博弈，其纳什均衡称之为贝叶斯纳什均衡。

### 1.5 博弈的基本定理
**Maximin 与 MiniMax 定理**  
Maximin定理从我方策略出发用于求解博弈收益的下界，MiniMax定理从敌方策略出发用于求解博弈收益的上界
  - Maximin首先针对所有的我方策略，求出min，因为不管我方策略如何，敌方肯定会选择最小化我方收益的策略，然后从所有min中，选择可以获得最大收益的我方策略，这样在任何情况下，我方收益必然大于等于此值
  - MiniMax首先针对所有敌方策略，求出Max，因为不管敌方策略如何，我方必然选择最大化自己收益的，然后敌方为了最小化我方收益，再从所有最大收益中选择最小的，这样不管我方选择何种策略，都不会超过此收益

**纳什均衡**  
在多人的非合作博弈中，如果每个博弈者都无法单方面改善自己的境地，此时的局面称为纳什均衡。当博弈处于纳什均衡时，此时的系统是稳定的，因为如果每个博弈者都足够理性，他们都不会愿意主动改变当前的策略，因为一旦个改变行为都会导致自己的收益变差。

**帕累托改进**  
在给定的博弈中，使得其他所有人的情况至少不变坏的前提下，调整选择（某个人的或某些人的），使得至少能有一个人的状况变好

**帕累托最优**  
在给定的博弈中，使得其他所有人的情况至少不变坏的前提下，不论如何调整选择（某个人的或某些人的），都不能使至少有一个人的状况变好

**反向归纳法**
反向归纳的前提是要获得关于博弈的完全信息，主要分为正向展望和反向推理两个部分：
  - 首先你要思考自己的每个决策，以及对方在应对你的决策时，会采用何种决策，这个过程类似于决策树的展开
  - 这个展开过程要一直推演到最后一步，此时就可以看清双方在最后一步各自的最优选择，然后就可以反向回推到第一步

## 2. 博弈论进阶




















































冯诺依曼证明了零和博弈必定存在这样的均衡点，纳什将其推广到了非零和博弈，即这样的均衡点依然存在

注意：
  - 纳什均衡的前提是非合作博弈（注意不要认为非合作博弈是没有合作的博弈）
  - 所谓“单方面”，是指其他博弈者均不改变自己的策略，参与者自己单独改变自己的策略 （比如囚徒困境的纳什均衡点为都背叛对方，收益为(-2,-2),此时不管谁单方面改变策略，收益都会变差；或者说，不管对方选择什么策略，我背叛对方/坦白对我而言都是最优的选择）
  - 注意不要把纳什均衡误解为各方利益的最大化，他和利益最大化没有关系，比如囚徒困境，反而是双方都保持沉默能获得更大的收益
  - 还有就是也不要以为纳什均衡点是唯一的，有时会有多个纳什均衡点
  - 但纳什的证明是非建设性的，即只是证明了这个均衡点必定存在，但没有给出如何找到均衡的方法。目前已经证实，即使对于某些比较简单的博弈，找到纳什均衡点所消耗的计算量也会超过整个宇宙的承受力
  - 纳什均衡是针对某个策略组合来说的，即一般来说：某个策略组合是纳什均衡的
  - 支配策略是对于某个参与者来说的，即某个参与者的某个策略是支配策略



## 3. 博弈论实战

1.5 通俗的博弈法则
1. 一个博弈的行动可能相继进行，也可能是同时进行。在相继行动的博弈里，存在一条线性思维链：加入我这么做，对手可能那么做，为了应对我应该xxx。此类博弈通常利用决策树进行研究，主要遵循 **法则1：向前展望，倒后推理**，就可以逐步找出最佳行动方式
2. 在同时行动的博弈中，存在一个逻辑循环的推理过程，我认为他认为我认为...，这个循环必须解开，从而看穿对手的行动。主要可以通过收益矩阵进行分析：
   - 首先看参与各方有没有有时策略，优势策略意味着无论对手采用什么策略，这一策略都将胜过其他策略，这时就可以使用**法则2：假如你有一个有时策略，请照办**.
   - 假如你没有优势策略，但你的对手有，那你就可以认为它一定会采用优势策略，然后你就可以根据这一推理继续选择自己的最佳策略
   - 假如双方都没有优势策略，那就看有没有人拥有劣势策略，劣势策略意味着，这一策略都将逊于其他任何策略，此时可以采用**法则3：提出劣势策略，不予考虑**。这样一步步做下去
   - 如果在做的过程中，在简化之后的博弈中出现了优势策略，此时你就可以采用这个优势策略。如果这个过程以独一无二的结果告终，则意味着我们找到了参与者的行动法则以及这个博弈的结果。即使没有独一无二的结果，我们在上述过程中也缩小了博弈的问题规模
   - 加入既没有优势策略也没有劣势策略，这时可以遵循**法则4：寻找这个博弈的均衡，即一对策略**。按照这对策略，各个参与者的行动都是对对方行动的最佳回应。
3. 对于博弈的均衡状态：
   - 假如存存在一个独一无二的均衡，我们就有许多很好的证据证明为什么所有的参与者都应该选择这个均衡
   - 假如存在很多这样的均衡，你就需要用一个普遍认同的法则或者惯例做出取舍
   - 假如并不存在这样的均衡，者通常意味着一切有规则可循的行为都可能被对对方加以利用，这时候你就需要将你的策略混合运用



 - 圣彼得堡国立大学
在本课程中，我们主要学习三种形式的博弈，静态博弈、动态博弈与微分博弈:
  - 静态博弈是用来处理多个智能体同时且相互独立的做出他们的决策的过程模型
  - 而动态与微分博弈，最简单的情况是我们期望所有智能体一个接一个的逐个做出决策，在每一步中，他们可以观测到其他智能体的动作，也就是说，他们知道关于博弈的相关信息

对于以上三种类型的博弈，我们都将学习它们对应的零和博弈、非合作博弈以及合作博弈的形式：
  - 零和博弈是这样一种博弈：我们有一个智能体或玩家，希望最大化其效用(utility)，但同时这里有另外一个玩家或智能体通过采取动作反对它。这种博弈要解决的核心问题是如何为所有的玩家定义最优策略，尤其是为其中的某个玩家
  - 非合作博弈是用来处理有N个参与者或N个智能体的过程模型，每个智能体都有它自己的目标或效用函数，其取决于所有玩家的策略或动作。这里的核心问题是这些玩家会如何表现？以及我们如何预测这些玩家的行为？
  - 合作博弈主要被用来对合作协议进行建模，其中的核心问题是如何分配所有玩家的联合效用或联合收益。其次我们需要定义玩家如何进行合作，以及为了实现合作或维持合作协议，玩家应该选择哪种动作或策略

1. 零和博弈
首先我们从零和博弈的正则形式(normal form)入手

2. 非合作博弈


3. 合作博弈的特征函数形式

4. 多阶段非合作博弈

5. 多阶段合作博弈

6. 微分博弈